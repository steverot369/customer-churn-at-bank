{% include 'adminsidebar.html' %}

<section class="middle">
    <div class="header">
        
        <input type="date" id="todayDateInput">
    </div>

<br><br><br><br><br><br>
                 <div class="container67">
                    <section>
                        <h1>Send Notification</h1>

                    <form method="post">
                        <div class="mb-4 pb-3">
                            <div class="dropdown dropdown-l">
                              <input type="text" name="branch" id="dropdown-input" class="form-control form-control-lg" placeholder="Search..." required>
                              <span class="dropdown-icon">&#9662;</span> <!-- Add a dropdown icon here -->
                          
                              <ul class="dropdown-list" style="display: block;">
                                <li>All</li>

                                {% for row in branch_names %}
                                <li>{{ row }}</li>
                                {% endfor %}
                              </ul>
                            </div>
                            <label class="form-label" for="form3Examplev4">branch names</label>

                          </div>
                        <label class="form-label" for="form3Examplev4">Message</label>
                        <input name="messages" class="message-input1" placeholder="Type your message..." required>
                        
                        <label class="form-label" for="form3Examplev4">user type</label>
                        <select class="user-type" name="usertype" required>
                          <option disabled selected value="">Select any value</option>

                            <option value="All">All</option>
                            <option value="employee">employee</option>
                          
                            <option value="customer">Customer</option>
                        </select>
                       

                        <button name="add" class="send-button">
                            <span class="send-icon">&#x27A4;</span>Send</button>
                        <span class="success-message"></span>
                    </form>
                    </section>
                </div>
            </section>
            </main>  
            <script>


                // Get all the submenu icons
                var submenuIcons = document.querySelectorAll('.submenu-icon');
               // Loop through each submenu icon
               submenuIcons.forEach(function(icon) {
                  // Add a click event listener to each submenu icon
                  icon.addEventListener('click', function() {
                      // Get the corresponding submenu for this icon
                      var submenu = icon.parentElement.nextElementSibling; 
                      // Toggle the visibility of the submenu
                      submenu.classList.toggle('show');
                  });
               });
               </script>
            <script>
                const input = document.querySelector('#dropdown-input');
                const dropdownList = document.querySelector('.dropdown-list');
                const options = Array.from(dropdownList.getElementsByTagName('li'));
                const dropdownIcon = document.querySelector('.dropdown-icon'); // Get the dropdown icon element
                
                input.addEventListener('input', function() {
                  const searchText = input.value.toLowerCase();
                
                  options.forEach(option => {
                    const text = option.textContent.toLowerCase();
                    if (text.includes(searchText)) {
                      option.style.display = 'block';
                    } else {
                      option.style.display = 'none';
                    }
                  });
                
                  dropdownList.style.display = 'block'; // Show the list while searching
                });
                
                dropdownIcon.addEventListener('click', function() {
                  dropdownList.style.display = dropdownList.style.display === 'block' ? 'none' : 'block';
                });
                
                dropdownList.addEventListener('click', function(event) {
                  const selectedOption = event.target;
                  if (selectedOption.tagName === 'LI') {
                    input.value = selectedOption.textContent;
                    dropdownList.style.display = 'none';
                  }
                });
                
                input.addEventListener('click', function() {
                  dropdownList.style.display = 'none';
                });
                
                // Hide the list initially when the page loads
                dropdownList.style.display = 'none';
                
                </script>
            <!-- <script>
                function sendMessage(button) {
                    var textarea = button.parentElement.querySelector('.message-input');
                    var message = textarea.value.trim();
                    
                    // Perform the necessary logic to send the message
                    
                    textarea.value = '';  // Clear the textarea after sending the message
                    
                    // Display success message
                    var successMessage = button.parentElement.querySelector('.success-message');
                    successMessage.style.display = 'block';
                    successMessage.textContent = 'Message sent successfully!';
                    
                    // Hide success message after 3 seconds
                    setTimeout(function() {
                        successMessage.style.display = 'none';
                    }, 2000);
                    
                    // Change button color to red for 5 seconds
                    button.style.backgroundColor = 'red';
                    
                    setTimeout(function() {
                        // Revert button color to original after 5 seconds
                        button.style.backgroundColor = ''; // or provide the original color value
                    }, 2000);
                }
            </script> -->
</body>
</html>